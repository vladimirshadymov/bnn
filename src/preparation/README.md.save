This code is responsible for preparing and organizing all the data for us
